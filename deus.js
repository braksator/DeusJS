class t{constructor(){h(this,{c:{},e:{},state:{},h:[],sp:"./scr/",cp:"./cmp/",Cmp:class{constructor(){this.state={},this.c=[]}set(t){h(this.state,t),r(this)}use(e,s,n){return(n=(n=this.c.find(t=>e==t.n&&i(s,t.p)))&&n.c)||((n=new(require(t.i().cp+e))).props=s,n.p=this,!n.load||n.load(),this.c.push({n:e,p:s,c:n})),r(n),n.l.innerHTML}}})}static i(){return this.j=this.j||new this}go(t,e,s=l.body,n,o){(o=new(require(this.sp+t))).props=e,!o.load||o.load(),history.pushState("",o.title,t),this.h.push({s:t,p:e,c:o,e:s}),r(o),n&&n(o)||(s.innerHTML=" ",s.append(o.l))}back(t){this.h.pop(),history.go(t||-1)}on(t,e){(this.e[t]||(this.e[t]=[])).push(e)}once(t,e){this.on(t,s=>{this.off(t,e),e(s)})}emit(t,e){this.e[t].forEach(t=>t(e))}off(t,e){this.e[t]=this.e[t].filter(t=>!i(t,e)),this.e[t].length||delete this.e[t]}set(t){h(this.state,t)}}let e=(t,s,n)=>[...t.children].map(t=>((n={c:t.children&&t.children.length?null:t.textContent,a:1!=t.nodeType?[]:[...t.attributes].map(t=>({n:t.name,v:t.value})),t:3==t.nodeType?"text":8==t.nodeType?"comment":t.tagName.toLowerCase(),e:t}).s=s||"svg"==n.t,n.k=e(t,n.s),n)),s=(t,e,s)=>{e.forEach(e=>"class"==e.n?t.className=e.v:"style"==e.n?(s=e.v.split(";").reduce((t,e)=>(~e.trim().indexOf(":")&&t.push(e.split(":")),t),[]).forEach(e=>t.style[e[0]]=e[1]),[...t.style].filter(e=>!s.find(s=>s[0]==e&&s[1]==t.style[e])).forEach(e=>t.style[e]="")):t.setAttribute(e.n,e.v||!0))},n=(t,e)=>("text"==t.t&&(e=l.createTextNode(t.c))||"comment"==t.t&&l.createComment(t.c)||t.s&&l.createElementNS("http://www.w3.org/2000/svg",t.t)||(e=l.createElement(t.t)),s(e,t.a),t.k.length&&t.k.forEach(t=>e.appendChild(n(t)))||"text"!=t.t&&(e.textContent=t.c),e),o=(t,e,r,i)=>{for(console.log("d func"),i=e.length;i>t.length;i--)r.removeChild(e[i].e);t.forEach((t,c,h)=>(h=e[c])?t.t!=h.t?r.replaceChild(n(t),h.e):(s(h.e,t.a.filter(t=>!(i=find(h.a,e=>t.n==e.n))||i.v!=t.v)),h.a.filter(e=>!t.a.find(t=>e.n==t.n)).forEach(t=>{"class"==t.n&&(h.e.className="")||"style"==t.n&&[...h.e.style].forEach(t=>h.e.style[t]="")||h.e.removeAttribute(t.n)}),console.log("newItem",t,"domItem.",h),t.c!=h.c&&(h.e.textContent=t.c),h.k.length^t.k.length?o(t.k,h.k,h.e):h.k.length?h.e.innerHTML="":(i=l.createDocumentFragment(),o(t.k,h.k,i),r.appendChild(i))):r.appendChild(n(t)))},r=(t,s)=>{t.c.forEach(t=>t.r=1),s=c.parseFromString(t.html(),"text/html").body.firstChild,t.l&&o(e(s),e(t.l),t.l.parentNode),t.l=s,t.r=0,!t.post||t.post(),t.c=t.c.filter(t=>t.r&&(!t.unload||t.unload()||1))},i=(t,e,s)=>t===e||"function"==typeof t&&e&&t.toString()==e.toString()||t&&e&&"object"==typeof t&&t.constructor==e.constructor&&(s=a(e))&&s.length==a(t).length&&!s.find(s=>!i(t[s],e[s])),c=new DOMParser,l=document,h=Object.assign,a=Object.keys;module.exports={Deus:t.i()};
class t{constructor(){l(this,{c:{},e:{},state:{},h:[],r:{},sp:"./scr/",cp:"./cmp/",Cmp:class{constructor(){this.state={},this.c=[]}set(t){l(this.state,t),i(this)}use(t,e,s){return(s=(s=this.c.find(s=>t==s.n&&o(e,s.p)))&&s.c)||((s=new(p.r[t]||require(p.cp+t))).props=e,s.p=this,!s.load||s.load(),this.c.push({n:t,p:e,c:s})),i(s),s.l.innerHTML}}})}static i(){return this.j=this.j||new this}go(t,e,s=c.body,n,r){(r=new(this.r[t]||require(this.sp+t))).props=e,!r.load||r.load(),history.pushState("",r.title,t),this.h.push({s:t,p:e,c:r,e:s}),i(r),n&&n(r)||(s.innerHTML=" ",s.append(r.l))}back(t){this.h.pop(),history.go(t||-1)}on(t,e){(this.e[t]||(this.e[t]=[])).push(e)}once(t,e){this.on(t,s=>{this.off(t,e),e(s)})}emit(t,e){this.e[t].forEach(t=>t(e))}off(t,e){this.e[t]=this.e[t].filter(t=>!o(t,e)),this.e[t].length||delete this.e[t]}set(t){l(this.state,t)}}let e=(t,s,n)=>[...t.children].map(t=>((n={c:t.children&&t.children.length?null:t.textContent,a:1!=t.nodeType?[]:[...t.attributes].map(t=>({n:t.name,v:t.value})),t:3==t.nodeType?"text":8==t.nodeType?"comment":t.tagName.toLowerCase(),e:t}).s=s||"svg"==n.t,n.k=e(t,n.s),n)),s=(t,e,s)=>{e.forEach(e=>"class"==e.n?t.className=e.v:"style"==e.n?(s=e.v.split(";").reduce((t,e)=>(~e.trim().indexOf(":")&&t.push(e.split(":")),t),[]).forEach(e=>t.style[e[0]]=e[1]),[...t.style].filter(e=>!s.find(s=>s[0]==e&&s[1]==t.style[e])).forEach(e=>t.style[e]="")):t.setAttribute(e.n,e.v||!0))},n=(t,e)=>("text"==t.t&&(e=c.createTextNode(t.c))||"comment"==t.t&&c.createComment(t.c)||t.s&&c.createElementNS("http://www.w3.org/2000/svg",t.t)||(e=c.createElement(t.t)),s(e,t.a),t.k.length&&t.k.forEach(t=>e.appendChild(n(t)))||"text"!=t.t&&(e.textContent=t.c),e),r=(t,e,i,o)=>{for(o=e.length;o>t.length;o--)i.removeChild(e[o].e);t.forEach((t,h,l)=>(l=e[h])?t.t!=l.t?i.replaceChild(n(t),l.e):(s(l.e,t.a.filter(t=>!(o=find(l.a,e=>t.n==e.n))||o.v!=t.v)),l.a.filter(e=>!t.a.find(t=>e.n==t.n)).forEach(t=>{"class"==t.n&&(l.e.className="")||"style"==t.n&&[...l.e.style].forEach(t=>l.e.style[t]="")||l.e.removeAttribute(t.n)}),t.c!=l.c&&(l.e.textContent=t.c),l.k.length^t.k.length?r(t.k,l.k,l.e):l.k.length?l.e.innerHTML="":(o=c.createDocumentFragment(),r(t.k,l.k,o),i.appendChild(o))):i.appendChild(n(t)))},i=(t,s)=>{t.c.forEach(t=>t.r=1),s=h.parseFromString(t.html(),"text/html").body.firstChild,t.l&&r(e(s),e(t.l),t.l.parentNode),t.l=s,t.r=0,!t.post||t.post(),t.c=t.c.filter(t=>t.r&&(!t.unload||t.unload()||1))},o=(t,e,s)=>t===e||"function"==typeof t&&e&&t.toString()==e.toString()||t&&e&&"object"==typeof t&&t.constructor==e.constructor&&(s=a(e))&&s.length==a(t).length&&!s.find(s=>!o(t[s],e[s])),h=new DOMParser,c=document,l=Object.assign,a=Object.keys,p=t.i();module.exports=p;
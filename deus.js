class t{constructor(){l(this,{c:{},e:{},state:{},h:[],r:{},a:(t,n,s)=>r(e(n,t),e(s),s),l:(t,e,n,s,r,c)=>(c=new(p.r[t]||"string"!=typeof t&&(r=t,t=t.constructor.name)&&r||require(p[n]+t)),l(c,{props:e,p:s,n:t,i:Math.random()+Date.now()}),!c.load||c.load(),c),sp:"./scr/",cp:"./cmp/",Cmp:class{constructor(){this.state={},this.c=[]}set(t){l(this.state,t),c(this)}use(t,e,n){return(n=(n=this.c.find(t=>t==t.n&&o(e,t.p)))&&n.c)||(n=p.l(t,e,"cp",this),this.c.push(n)),c(n),`<c- i=${n.i}>`}}})}static i(){return this.j=this.j||new this}go(t,e,n=i.body,s){s=p.l(t,e,"sp"),history.pushState(e,s.title,s.n),p.h.push(s),c(s,n)}back(t){p.h.pop(),history.go(t||-1)}on(t,e){(p.e[t]||(p.e[t]=[])).push(e)}once(t,e){p.on(t,n=>{p.off(t,e),e(n)})}emit(t,e){p.e[t].forEach(t=>t(e))}off(t,e){p.e[t]=p.e[t].filter(t=>!o(t,e)),p.e[t].length||delete p.e[t]}set(t){l(p.state,t)}}let e=(t,n,s,r)=>[...t.children].map(c=>"c-"==t.tagName?e(t,n):((r={c:c.children&&c.children.length?null:c.textContent,a:1!=c.nodeType?[]:[...c.attributes].map(t=>({n:t.name,v:t.value})),t:3==c.nodeType?"text":8==c.nodeType?"comment":c.tagName.toLowerCase(),e:c,d:n}).s=s||"svg"==r.t,r.k=e(c,0,r.s),r)),n=(t,e,n)=>{e.forEach(e=>"class"==e.n?t.className=e.v:"style"==e.n?(n=e.v.split(";").reduce((t,e)=>(~e.trim().indexOf(":")&&t.push(e.split(":")),t),[]).forEach(e=>t.style[e[0]]=e[1]),[...t.style].filter(e=>!n.find(n=>n[0]==e&&n[1]==t.style[e])).forEach(e=>t.style[e]="")):t.setAttribute(e.n,e.v||!0))},s=(t,e)=>"c-"==t.t?t.d.c.find(e=>e.i==t.a.find(t=>"i"==t.n).v).e:("text"==t.t&&(e=i.createTextNode(t.c))||"comment"==t.t&&i.createComment(t.c)||t.s&&i.createElementNS("http://www.w3.org/2000/svg",t.t)||(e=i.createElement(t.t)),n(e,t.a),t.k.length&&t.k.forEach(t=>e.appendChild(s(t)))||"text"!=t.t&&(e.textContent=t.c),e),r=(t,e,c,o)=>{for(o=e.length;o>t.length;o--)c.removeChild(e[o].e);t.forEach((t,a,l)=>(l=e[a])?t.t!=l.t?c.replaceChild(s(t),l.e):(n(l.e,t.a.filter(t=>!(o=find(l.a,e=>t.n==e.n))||o.v!=t.v)),l.a.filter(e=>!t.a.find(t=>e.n==t.n)).forEach(t=>{"class"==t.n&&(l.e.className="")||"style"==t.n&&[...l.e.style].forEach(t=>l.e.style[t]="")||l.e.removeAttribute(t.n)}),t.c!=l.c&&(l.e.textContent=t.c),l.k.length^t.k.length?r(t.k,l.k,l.e):l.k.length?l.e.innerHTML="":(o=i.createDocumentFragment(),r(t.k,l.k,o),c.appendChild(o))):c.appendChild(s(t)))},c=(t,e,n)=>{n=a.parseFromString(t.html(),"text/html").body.firstChild,t.c.forEach(t=>t.r=1),p.a(t,n,e||i.createDocumentFragment()),t.e=n,t.r=0,!t.post||t.post(),t.c=t.c.filter(t=>t.r&&(!t.unload||t.unload()||1))},o=(t,e,n)=>t===e||"function"==typeof t&&e&&t.toString()==e.toString()||t&&e&&"object"==typeof t&&t.constructor==e.constructor&&(n=h(e))&&n.length==h(t).length&&!n.find(n=>!o(t[n],e[n])),a=new DOMParser,i=document,l=Object.assign,h=Object.keys,p=t.i();module.exports=p;
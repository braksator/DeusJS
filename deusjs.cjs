class e{constructor(){h(this,{c:{},e:{},state:{},h:[],r:{},Cmp:class{constructor(e=this){e.state={},e.c=[],e.use=(e,t,n,o=this)=>((n=o.c.find(e=>e==e.n&&c(t,e.p)))?n=n.c:o.c.push(n=a(e,t,o)),`<c- i=${n.i}>`)}set(e,t=this){h(t.state,e),r(t,t.e)}}})}go(e,t,n,o=i.body,s){s=a(e,t),history.pushState(t,s.title,s.n),p.h.push(s),r(s,o,n)}back(e=-1,t=e){for(;e++;)p.h.pop();history.go(t)}on(e,t){(p.e[e]||(p.e[e]=[])).push(t)}once(e,t){p.on(e,n=>{p.off(e,t),t(n)})}emit(e,t){p.e[e].forEach(e=>e(t))}off(e,t){p.e[e]=p.e[e].filter(e=>!c(e,t)),p.e[e].length||delete p.e[e]}set(e){h(p.state,e)}}let t=(e,n,o,s)=>[...e.children].map(e=>(s={c:e.children&&e.children.length?null:e.textContent,a:1!=e.nodeType?[]:[...e.attributes].map(e=>({n:e.name,v:e.value})),t:3==e.nodeType?"text":8==e.nodeType?"comment":e.tagName.toLowerCase(),e,d:n},s.s=o||"svg"==s.t,s.k=t(e,n,s.s),s)),n=(e,t,n)=>{t.forEach(t=>"class"==t.n?e.className=t.v:"style"==t.n?(n=t.v.split(";").reduce((e,t)=>(~t.trim().indexOf(":")&&e.push(t.split(":")),e),[]),n.forEach(t=>e.style[t[0]]=t[1]),[...e.style].filter(t=>!n.find(n=>n[0]==t&&n[1]==e.style[t])).forEach(t=>e.style[t]="")):e.setAttribute(t.n,t.v||!0))},o=(e,t,s,c)=>"c-"==e.t?r(e.d.c.find(t=>t.i==e.a[0].v),t)&&0:("text"==e.t&&(s=i.createTextNode(e.c))||"comment"==e.t&&i.createComment(e.c)||e.s&&i.createElementNS("http://www.w3.org/2000/svg",e.t)||(s=i.createElement(e.t)),n(s,e.a),e.k.length?e.k.forEach(e=>(c=o(e,s))&&s.append(c)):"text"!=e.t&&(s.textContent=e.c),s),s=(e,t,r,c,a,l)=>{for(l=r.length-1;l>=t.length;l--)c.removeChild(r[l].e);t.forEach((t,i,h)=>{!(h=r[i])||a?(l=o(t,c))&&c.append(l)&&a&&h.e.setAttribute("class",element.getAttribute("class")+" rm")&&setTimeout(e=>c.removeChild(h.e),a):t.t!=h.t?(l=o(t,c))&&c.replaceChild(l,h.e):(n(h.e,t.a.filter(e=>(l=h.a.find(t=>e.n==t.n),!l||l.v!=e.v))),h.a.filter(e=>!t.a.find(t=>e.n==t.n)).forEach(e=>{"class"==e.n?h.e.className="":"style"==e.n?[...h.e.style].forEach(e=>h.e.style[e]=""):h.e.removeAttribute(e.n)}),t.c!=h.c&&(h.e.textContent=t.c),t.k.length?h.k.length?s(e,t.k,h.k,h.e):(l=document.createDocumentFragment(),s(e,t.k,h.k,l),c.appendChild(l)):h.k.length&&(h.e.innerHTML=""))})},r=(e,n,o,r)=>{r=l.parseFromString(e.html(),"text/html").body,e.c.forEach(e=>e.r=1),"function"==typeof(o=o||e.m)?o(r,n,e):s(e,t(r,e),t(n),n,o),h(e,{e:n,r:0,c:e.c.filter(e=>e.r&&(!e.unload||e.unload()||1))}),!e.post||e.post()},c=(e,t,n)=>e===t||"function"==typeof e&&t&&e.toString()==t.toString()||e&&t&&"object"==typeof e&&e.constructor==t.constructor&&(n=d(t))&&n.length==d(e).length&&!n.find(n=>!c(e[n],t[n])),a=(e,t,n,o)=>("string"!=typeof e?(o=new e,e=o.constructor.name):o=new p.r[e],h(o,{props:t,p:n,n:e,i:Math.random()+""+Date.now()}),!o.load||o.load(),o),l=new DOMParser,i=document,h=Object.assign,d=Object.keys,p=new e;module.exports=p;